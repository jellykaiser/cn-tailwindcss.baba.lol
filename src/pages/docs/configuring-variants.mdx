---
title: 配置变体
shortTitle: 标题
description: 为需要的工具类配置变体。
---

import { Heading } from '@/components/Heading'
import { DefaultVariantsConfig } from '@/components/DefaultVariantsConfig'
import { TipGood, TipBad } from '@/components/Tip'

## <Heading hidden>Overview</Heading>

配置文件中的`variants`配置项，可以控制哪一个核心插件需要什么样的变体：

```js
// tailwind.config.js
module.exports = {
  variants: {
    extend: {
      backgroundColor: ['active'],
      // ...
      borderColor: ['focus-visible', 'first'],
      // ...
      textColor: ['visited'],
    }
  },
}
```

每个属性都是一个核心插件名，为该插件配置需要生成的变体数组。

下面的变体是开箱即用的：

| Variant | Description |
| --- | --- |
| `responsive` | Responsive variants like `sm`, `md`, `lg`, and `xl`. |
| `dark` | Targets dark mode. |
| `motion-safe` | Targets the `prefers-reduced-motion: no-preference` media query. |
| `motion-reduce` | Targets the `prefers-reduced-motion: reduce` media query. |
| `first` | Targets the `first-child` pseudo-class. |
| `last` | Targets the `last-child` pseudo-class.  |
| `odd` | Targets the `odd-child` pseudo-class.  |
| `even` | Targets the `even-child` pseudo-class.  |
| `visited` | Targets the `visited` pseudo-class.  |
| `checked` | Targets the `checked` pseudo-class.  |
| `group-hover` | Targets an element when a marked parent matches the `hover` pseudo-class. |
| `group-focus` | Targets an element when a marked parent matches the `focus` pseudo-class. |
| `focus-within` | Targets the `focus-within` pseudo-class. |
| `hover` | Targets the `hover` pseudo-class. |
| `focus` | Targets the `focus` pseudo-class. |
| `focus-visible` | Targets the `focus-visible` pseudo-class. |
| `active` | Targets the `active` pseudo-class. |
| `disabled` | Targets the `disabled` pseudo-class. |

关于变体是如何工作的，可以查看[自适应变体](/docs/responsive-design)、[暗黑变体](/docs/dark-mode)、以及[hover、focus及其他变体](/docs/hover-focus-and-other-states)。

---


## 启用额外的变体

如果你想在插件默认值之外启用额外的变体，你可以使用`extend`关键字来配置你的变体，就像你可以在`theme`配置项中使用`extend`一样:

```js
// tailwind.config.js
module.exports = {
  variants: {
    // The 'active' variant will be generated in addition to the defaults
    extend: {
      backgroundColor: ['active']
    }
  },
}
```

因为[变体的顺序非常重要](/docs/configuring-variants#ordering-variants)，所以在`extend`字段下添加的任何变体都会使用合理的默认变体顺序自动排序。如果需要，可以使用[variantOrder](/docs/configuration#variant-order)选项定制顺序。

---

## 覆盖默认变体

直接在`variants`字段下定制变体，将会**覆盖**该插件的默认变体：

```js
// tailwind.config.js
module.exports = {
  variants: {
    // Only 'active' variants will be generated
    backgroundColor: ['active'],
  },
}
```

当覆盖默认的变体时，确保启用你想要的的所有变体，而不仅仅是你想要添加的这个新变体。

### 变体排序

重要的是要注意，当覆盖变体时，将按照数组列出的顺序生成变体，因此数组末尾的变体将优先于数组开头的变体。

例如，`focus`变体对于`backgroundColor`类具有最高的优先级，而`hover`变体对于`borderColor`类具有最高的优先级:

```js
// tailwind.config.js
module.exports = {
  variants: {
    backgroundColor: ['hover', 'focus'],
    borderColor: ['focus', 'hover'],
  },
}
```

```css
/* Generated CSS */

.bg-black { background-color: #000 }
.bg-white { background-color: #fff }
/* ... */

.hover\:bg-black:hover { background-color: #000 }
.hover\:bg-white:hover { background-color: #fff }
/* ... */

.focus\:bg-black:focus { background-color: #000 }
.focus\:bg-white:focus { background-color: #fff }
/* ... */

.border-black { border-color: #000 }
.border-white { border-color: #fff }
/* ... */

.focus\:border-black:focus { border-color: #000 }
.focus\:border-white:focus { border-color: #fff }
/* ... */

.hover\:border-black:hover { border-color: #000 }
.hover\:border-white:hover { border-color: #fff }
/* ... */
```

在下面的HTML中：

```html
<input class="focus:bg-white hover:bg-black focus:border-white hover:border-black">
```

如果input同时被`hover`以及`focus`，背景色变成白色，但是边框是黑色

以这种方式生成变体为最终用户提供了最大的灵活性，但它也是一种锋利的工具，如果不小心，可能会产生意想不到的后果。我们建议在任何可能的情况下启用额外的变体，而不是覆盖默认值，并且只将此特性用作一个缓冲通道。

---

## 特殊的变体

### 自适应

`responsive`变体的特别之处在于，它的权重不受配置列表里的顺序影响。

这是因为`responsive`自动与其他变体堆叠，这意味着如果你指定一个工具类的`responsive`和`hover`变体，Tailwind将生成`responsive hover`变体:

```js
// tailwind.config.js
module.exports = {
  variants: {
    backgroundColor: ['responsive', 'hover'],
    borderColor: ['responsive', 'focus'],
  },
}
```

无论`responsive`出现在配置数组的什么位置，它生成的时候都会被放到样式表的末尾。

无论出于何种原因，如果你想自定义此行为，你可以使用[@tailwind screens](/docs/functions-and-directives#tailwind)屏幕指令来指定响应式变体应该插入的位置。

### 暗黑模式、


`dark`， `motion-safe`和`motion-reduce`变体可以与其他变体叠加，但与`responsive`不同的是，它们堆叠在同一个“slot”中，所以你可以将它们与`responsive`和简单状态变体组合在一起，但它们三个不能相互组合。

这些变体的顺序是相对的，但与其他变体无关。在现实生活中，几乎没有可以想象到的情况下，这两者会发生冲突，所以无论如何这最终都不是一个问题。

你可以在你的`variants`配置中以任何顺序包含这些变体，而不必在意它们之间的区别。

### 默认

你可以使用特殊的`DEFAULT`变体来生成生成普通的、无前缀的工具类版本。

这是一个高级特性，只有当你有一个自定义的变体(如下面例子中的`children`)，它的优先级应该低于一个工具类的正常版本时，它才真正有用。

```js
// tailwind.config.js
module.exports = {
  variants: {
    backgroundColor: ['children', 'DEFAULT', 'hover', 'focus'],
  },
}
```

```css
/* Generated CSS */

.children\:bg-black > * { background-color: #000; }
.children\:bg-white > * { background-color: #fff; }

.bg-black { background-color: #000 }
.bg-white { background-color: #fff }
/* ... */

.hover\:bg-black:hover { background-color: #000 }
.hover\:bg-white:hover { background-color: #fff }
/* ... */

.focus\:bg-black:focus { background-color: #000 }
.focus\:bg-white:focus { background-color: #fff }
/* ... */
```

了解更多自定义变体，查看[变体插件](/docs/plugins#adding-variants).

---

## 自定义变体

如果你使用过一个可以添加新变体的[插件](/docs/plugins)，你可以通过在你的变体配置中引入它来启用该变体，就像它是一个内置的变体一样。

例如[tailwindcss-interaction-variants插件](https://github.com/benface/tailwindcss-interaction-variants)添加了一个`group-disabled`变体:

```js
// tailwind.config.js
{
  variants: {
    backgroundColor: ['responsive', 'hover', 'focus', 'group-disabled'],
  },
  plugins: [
    require('tailwindcss-interaction-variants')(),
  ],
}
```

了解更多自定义变体，查看[变体插件](/docs/plugins#adding-variants).

### 自定义变体排序

如果你想为自定义变体指定一个默认的排序位置，覆盖你的`variantOrder`来引入自定义变体:

```js
// tailwind.config.js
module.exports = {
  // ...
  variantOrder: [
    'first',
    'last',
    'odd',
    'even',
    'visited',
    'checked',
    'group-hover',
    'group-focus',
    'focus-within',
    'hover',
    'focus',
    'focus-visible',
    'active',
    'group-disabled', // Custom variant
    'disabled',
  ],
  variants: {
    extend: {
      backgroundColor: ['group-disabled'],
    }
  }
}
```

当引入自定义变体，覆盖了`variantOrder`配置，你需要制定全部你需要配置的变体列表。

---

## 默认变体引用

以下是Tailwind默认变量配置的完整参考，当你想在保留默认值的同时添加一个新的变量时，它会很有用。

<DefaultVariantsConfig />
