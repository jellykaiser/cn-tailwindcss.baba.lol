---
title: 配置
description: 关于配置和自定义安装的指南。
---

import { CorePluginReference } from '@/components/CorePluginReference'

因为Tailwind是一个构建定制用户界面的框架，所以它从一开始就以定制为理念进行设计。

默认情况下，Tailwind会读取根目录的`tailwind.config.js`，你可以在里面进行所有的定制。

```js
// Example `tailwind.config.js` file
const colors = require('tailwindcss/colors')

module.exports = {
  theme: {
    colors: {
      gray: colors.coolGray,
      blue: colors.lightBlue,
      red: colors.rose,
      pink: colors.fuchsia,
    },
    fontFamily: {
      sans: ['Graphik', 'sans-serif'],
      serif: ['Merriweather', 'serif'],
    },
    extend: {
      spacing: {
        '128': '32rem',
        '144': '36rem',
      },
      borderRadius: {
        '4xl': '2rem',
      }
    }
  },
  variants: {
    extend: {
      borderColor: ['focus-visible'],
      opacity: ['disabled'],
    }
  }
}
```

配置文件里面的所有字段都是可选的，你可以只定制你需要修改的部分，剩余的会使用[默认配置](https://github.com/tailwindlabs/tailwindcss/blob/master/stubs/defaultConfig.stub.js).

## Creating your configuration file

当你安装好了`tailwindcss`依赖包，就可以使用Tailwind CLI生成一个基础配置文件：

```shell
npx tailwindcss init
```

这会生成一个简化版的`tailwind.config.js`文件到你的根目录:

```js
// tailwind.config.js
module.exports = {
  purge: [],
  darkMode: false, // or 'media' or 'class'
  theme: {
    extend: {},
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
```

### 使用其他文件名

如果想用其他的配置文件名字，而不是默认的`tailwind.config.js`，在初始化的时候输入文件名:

```shell
npx tailwindcss init tailwindcss-config.js
```

如果你改变了配置文件名字，你需要在PostCSS配置文件中显性标明：

```js
// postcss.config.js
module.exports = {
  plugins: {
    tailwindcss: { config: './tailwindcss-config.js' },
  },
}
```

### 生成一个PostCSS配置文件

使用`-p`选项可以再生成一个PostCSS配置文件，名字为`postcss.config.js`：

```shell
npx tailwindcss init -p
```

这会生成一个PostCSS配置文件`postcss.config.js`：

```js
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

### 搭建整个默认配置

对于大多数用户，我们鼓励你将配置文件保持尽可能少，并且只指定您想要自定义的内容。

如果你想构建一个包含所有Tailwind默认配置的完整配置文件，请使用`——full`选项:

```shell
npx tailwindcss init --full
```

你将得到一个与Tailwind内部使用的[默认配置文件](https://unpkg.com/browse/tailwindcss@latest/stubs/defaultConfig.stub.js)相匹配的文件。

## 主题

`theme`配置项可以让你自定义你的调色板、字体、边框、断点等所有的跟你网站视觉效果相关的配置。

```js
// tailwind.config.js
module.exports = {
  theme: {
    colors: {
      gray: colors.coolGray,
      blue: colors.lightBlue,
      red: colors.rose,
      pink: colors.fuchsia,
    },
    fontFamily: {
      sans: ['Graphik', 'sans-serif'],
      serif: ['Merriweather', 'serif'],
    },
    extend: {
      spacing: {
        '128': '32rem',
        '144': '36rem',
      },
      borderRadius: {
        '4xl': '2rem',
      }
    }
  }
}
```

在[主题配置指南](/docs/theme)查看更多关于默认主题以及如何自定义主题。

## 变体

`variants`配置项让你可以控制为任何一个工具类生成你想要的[变体](/docs/hover-focus-and-other-states)。

```js
// tailwind.config.js
module.exports = {
  variants: {
    fill: [],
    extend: {
      borderColor: ['focus-visible'],
      opacity: ['disabled'],
    }
  },
}
```

更多详情，查看[变体配置指南](/docs/configuring-variants)。

## 插件

`plugins`配置项可以让你注册Tailwind插件，插件可以用来生成额外的工具类、组件类或者基础类，以及自定义的变体。

```js
// tailwind.config.js
module.exports = {
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/aspect-ratio'),
    require('@tailwindcss/typography'),
    require('tailwindcss-children'),
  ],
}
```

了解如何编写插件，请查看[插件编写指南](/docs/plugins)。

## 预设

`presets`配置项可以让你使用自定义的基础配置项，而不是Tailwind的默认基础配置。

```js
// tailwind.config.js
module.exports = {
  presets: [
    require('@acmecorp/base-tailwind-config')
  ],

  // Project-specific customizations
  theme: {
    //...
  },
  // ...
}
```

更多详情，查看[预设](/docs/presets).

## 前缀

`prefix`可以让你自定义一个前缀到Tailwind生成的工具类前面。当你在Tailwind后面使用其他的css文件是，自定义前缀能很好的避免样式冲突。

例如，你可以添加一个`tw-`前缀：

```js
// tailwind.config.js
module.exports = {
  prefix: 'tw-',
}
```

现在所有的生成的工具类都会加上一个前缀：

```css
.tw-text-left {
  text-align: left;
}
.tw-text-center {
  text-align: center;
}
.tw-text-right {
  text-align: right;
}
/* etc. */
```

需要注意的是，这个前缀是在变体之后的。 

```html
<div class="tw-text-lg md:tw-text-xl tw-bg-red-500 **hover:tw-bg-blue-500**">
  <!-- -->
</div>
```

前缀只会添加到Tailwind生成的类前面；**而不会添加到你自定义的类**

这意味着你可以像下面这样使用：

```css
@variants hover {
  .bg-brand-gradient { /* ... */ }
}
```

生成的自适应的类，不会带有前缀：

```css
.bg-brand-gradient { /* ... */ }
.hover\:bg-brand-gradient:hover { /* ... */ }
```

如果你想自定义的类也有前缀，直接手动加上去把：

```css
@variants hover {
  .tw-bg-brand-gradient { /* ... */ }
}
```

## Important

`important`可以让你控制哪些类可以带有`!important`，当你把Tailwind跟其他CSS类一起使用的时候，这可以让Tailwind保持更高的权限：

想要生成`!important`，设置 `important`选项为`true`：

```js
// tailwind.config.js
module.exports = {
  important: true,
}
```

想在所有的Tailwind的工具类都会加上`!important`：

```css
.leading-none {
  line-height: 1 !important;
}
.leading-tight {
  line-height: 1.25 !important;
}
.leading-snug {
  line-height: 1.375 !important;
}
/* etc. */
```

需要注意的是，你自定义的类是不会加上`!important`的。

如果你希望加上`!important`，手动加上即可：

```css
@responsive {
  .bg-brand-gradient {
    background-image: linear-gradient(#3490dc, #6574cd) !important;
  }
}
```

### 选择器策略

将`important`设置为`true`，当使用第三发JS库向你的标签添加内联样式的时候，可能会引发一些问题。因为Tailwind的`!important`工具类权限比内联样式更高，这可能会出现预期之外的结果。

要解决这个问题，你可以设置`important`为一个ID选择器，如`#app`：

```js
// tailwind.config.js
module.exports = {
  important: '#app',
}
```

这样配置，可以让所有Tailwind生成的工具类都基于这个前缀选择器，这样有效的增加了权重，而不需要添加`!important`。

当你将`important`设置为一个选择器，你要确保它是你的站点的根节点，为了让上面的例子可以工作，我们需要将根节点的`id`设置为`app`。

当你配置好之后，你的Tailwind工具类有足够的权限来覆盖其他的类，但是又不会干扰内联样式：

```html
<html>
<!-- ... -->
<style>
  .high-specificity .nested .selector {
    color: blue;
  }
</style>
<body id="app">
  <div class="high-specificity">
    <div class="nested">
      <!-- Will be red-500 -->
      <div class="selector text-red-500"><!-- ... --></div>
    </div>
  </div>

  <!-- Will be #bada55 -->
  <div class="text-red-500" style="color: #bada55;"><!-- ... --></div>
</body>
</html>
```


## 分隔符

`separator`配置项可以让你自定义一个字符或者字符串来分隔不同的前缀(screen, `hover`, `focus`等)和工具类(`text-center`, `items-end`等)。

我们默认使用冒号(`:`)，但是当你使用模板引擎的时候如[Pug](https://pugjs.org)，它不支持类名中的特殊字符，修改分隔符将很有必要。

```js
// tailwind.config.js
module.exports = {
  separator: '_',
}
```

## 变体权重

如果你使用`extend`特性去启动额外的变体，那么这些变体的顺序就是默认的。

你可以通过`variantOrder`字段来改变它们的顺序:

```js
// tailwind.config.js
module.exports = {
  // ...
  variantOrder: [
    'first',
    'last',
    'odd',
    'even',
    'visited',
    'checked',
    'group-hover',
    'group-focus',
    'focus-within',
    'hover',
    'focus',
    'focus-visible',
    'active',
    'disabled',
  ]
}
```

## 核心插件

`corePlugins`可以让你完全禁用一些你不需要的类。

如果你不设置`corePlugins`，将默认生成所有的工具类：

```js
// tailwind.config.js
module.exports = {
  // ...
}
```

如果你想禁用某些插件，设置`corePlugins`里的对应插件字段为`false`:

```js
// tailwind.config.js
module.exports = {
  corePlugins: {
    float: false,
    objectFit: false,
    objectPosition: false,
  }
}
```

如果你先安全的使用某些插件，可以配置一个数组，填入你想开启的插件：

```js
// tailwind.config.js
module.exports = {
  corePlugins: [
    'margin',
    'padding',
    'backgroundColor',
    // ...
  ]
}
```

如果你想禁用所有插件，并只把Tailwind当成一个组织自定义类的工具，你可以传入一个空数组：

```js
// tailwind.config.js
module.exports = {
  corePlugins: []
}
```


核心插件参考：

<CorePluginReference />

## 在JS中引用

在客户端的JavaScript中引入配置项通常是很有用的。如，在React或者Vue组件中动态设置内联样式时候需要获取一些配置值。

为了简化这个过程，Tailwind提供了一个`resolveConfig`方法，你可以用它来生成一个完全合并的配置对象内容：

```js
import resolveConfig from 'tailwindcss/resolveConfig'
import tailwindConfig from './tailwind.config.js'

const fullConfig = resolveConfig(tailwindConfig)

fullConfig.theme.width[4]
// => '1rem'

fullConfig.theme.screens.md
// => '768px'

fullConfig.theme.boxShadow['2xl']
// => '0 25px 50px -12px rgba(0, 0, 0, 0.25)'
```

请注意，这将会引入大量的构建时依赖项，导致客户端包的大小变大， 为了避免这种情况，我们建议使用像[babel-plugin-preval](https://github.com/kentcdodds/babel-plugin-preval)这样的工具，在构建时生成配置的静态版本。
